# ğŸš€ æŠ–éŸ³ä¸Šä¼ ä¸€é”®å¯åŠ¨ä½¿ç”¨è¯´æ˜

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

- âœ… **ä¸€é”®å¯åŠ¨** - å®¹å™¨å¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡Œapp.py
- âœ… **è‡ªåŠ¨é‡å¯** - æœåŠ¡å¼‚å¸¸æ—¶è‡ªåŠ¨é‡å¯
- âœ… **å¥åº·æ£€æŸ¥** - è‡ªåŠ¨ç›‘æ§æœåŠ¡çŠ¶æ€
- âœ… **æ—¥å¿—ç®¡ç†** - å®æ—¶æŸ¥çœ‹åº”ç”¨æ—¥å¿—
- âœ… **å®Œæ•´ç®¡ç†** - å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€è¿›å…¥å®¹å™¨ç­‰

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### 1. ç»™è„šæœ¬æ‰§è¡Œæƒé™
```bash
chmod +x start.sh
```

### 2. ä¸€é”®å¯åŠ¨æœåŠ¡
```bash
./start.sh start
```

å¯åŠ¨åä¼šè‡ªåŠ¨ï¼š
- åˆ›å»ºå¿…è¦ç›®å½•ï¼ˆcookieã€videosã€downloadsã€databaseã€logsï¼‰
- å¯åŠ¨Dockerå®¹å™¨
- è‡ªåŠ¨è¿è¡Œapp.py
- æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€
- æ˜¾ç¤ºè®¿é—®åœ°å€ï¼šhttp://localhost:5000

## ğŸ“š æ‰€æœ‰å‘½ä»¤

### åŸºç¡€æ“ä½œ
```bash
# å¯åŠ¨æœåŠ¡
./start.sh start

# åœæ­¢æœåŠ¡
./start.sh stop

# é‡å¯æœåŠ¡
./start.sh restart

# æŸ¥çœ‹çŠ¶æ€
./start.sh status
```

### æ—¥å¿—å’Œè°ƒè¯•
```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
./start.sh logs

# æ£€æŸ¥å¥åº·çŠ¶æ€
./start.sh health

# è¿›å…¥å®¹å™¨
./start.sh enter
```

### é«˜çº§æ“ä½œ
```bash
# æ›´æ–°é•œåƒ
./start.sh update

# æ¸…ç†æ‰€æœ‰èµ„æº
./start.sh clean

# æ˜¾ç¤ºå¸®åŠ©
./start.sh help
```

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

### docker-compose-auto.yml
- **è‡ªåŠ¨å¯åŠ¨**: å®¹å™¨å¯åŠ¨æ—¶ç›´æ¥è¿è¡Œ `python app.py`
- **ç«¯å£æ˜ å°„**: 5000ç«¯å£ç”¨äºWebç•Œé¢
- **å¥åº·æ£€æŸ¥**: æ¯30ç§’æ£€æŸ¥ä¸€æ¬¡æœåŠ¡çŠ¶æ€
- **è‡ªåŠ¨é‡å¯**: æœåŠ¡å¼‚å¸¸æ—¶è‡ªåŠ¨é‡å¯

### ç›®å½•æŒ‚è½½
```
å®¿ä¸»æœºç›®å½•          â†’  å®¹å™¨å†…ç›®å½•
./cookie           â†’  /workspace/cookie
./videos           â†’  /workspace/videos
./downloads        â†’  /workspace/downloads
./database         â†’  /workspace/database
./logs             â†’  /workspace/logs
```

## ğŸ“Š æœåŠ¡ç›‘æ§

### å¥åº·æ£€æŸ¥
è„šæœ¬ä¼šè‡ªåŠ¨æ£€æŸ¥ï¼š
- âœ… Dockerå®¹å™¨æ˜¯å¦è¿è¡Œ
- âœ… WebæœåŠ¡æ˜¯å¦å“åº”
- âœ… ç«¯å£æ˜¯å¦æ­£å¸¸ç›‘å¬

### çŠ¶æ€æŸ¥çœ‹
```bash
# æŸ¥çœ‹è¯¦ç»†çŠ¶æ€
./start.sh status

# è¾“å‡ºç¤ºä¾‹ï¼š
# ğŸ“Š æœåŠ¡çŠ¶æ€:
# Name: douyin-upload-auto
# State: Up 5 minutes
# Ports: 0.0.0.0:5000->5000/tcp
```

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šæœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
./start.sh logs

# æ£€æŸ¥Dockeræƒé™
sudo ./start.sh start
```

### é—®é¢˜2ï¼šWebç•Œé¢æ— æ³•è®¿é—®
```bash
# æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€
./start.sh health

# ç­‰å¾…æœåŠ¡å®Œå…¨å¯åŠ¨
sleep 10
./start.sh health
```

### é—®é¢˜3ï¼šç«¯å£è¢«å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tuln | grep 5000

# åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹æˆ–ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£
```

### é—®é¢˜4ï¼šå®¹å™¨æ— æ³•å¯åŠ¨
```bash
# æŸ¥çœ‹DockerçŠ¶æ€
docker info

# é‡æ–°æ„å»ºé•œåƒ
./start.sh update
```

## ğŸ“ æ–‡ä»¶ç»“æ„

å®Œæ•´çš„é¡¹ç›®ç»“æ„ï¼š
```
douyin-upload/
â”œâ”€â”€ start.sh                    # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ docker-compose-auto.yml     # è‡ªåŠ¨å¯åŠ¨é…ç½®
â”œâ”€â”€ Dockerfile                  # é•œåƒæ„å»ºæ–‡ä»¶
â”œâ”€â”€ app.py                      # ä¸»åº”ç”¨ç¨‹åº
â”œâ”€â”€ main.py                     # æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ requirements.txt            # Pythonä¾èµ–
â”œâ”€â”€ cookie/                     # Cookieå­˜å‚¨ç›®å½•
â”œâ”€â”€ videos/                     # è§†é¢‘æ–‡ä»¶ç›®å½•
â”œâ”€â”€ downloads/                  # ä¸‹è½½ç›®å½•
â”œâ”€â”€ database/                   # æ•°æ®åº“ç›®å½•
â”œâ”€â”€ logs/                       # æ—¥å¿—ç›®å½•
â””â”€â”€ docs/                       # æ–‡æ¡£ç›®å½•
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### å¼€å‘è°ƒè¯•
```bash
# å¯åŠ¨æœåŠ¡
./start.sh start

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
./start.sh logs

# è¿›å…¥å®¹å™¨è°ƒè¯•
./start.sh enter
```

### ç”Ÿäº§éƒ¨ç½²
```bash
# å¯åŠ¨æœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰
./start.sh start

# å®šæœŸæ£€æŸ¥çŠ¶æ€
./start.sh status

# æŸ¥çœ‹æ—¥å¿—
./start.sh logs
```

### æ›´æ–°ç»´æŠ¤
```bash
# æ›´æ–°ä»£ç åé‡æ–°æ„å»º
./start.sh update

# é‡å¯æœåŠ¡
./start.sh restart

# æ¸…ç†æ—§èµ„æº
./start.sh clean
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### è‡ªåŠ¨é‡å¯ç­–ç•¥
- **unless-stopped**: é™¤éæ‰‹åŠ¨åœæ­¢ï¼Œå¦åˆ™æ€»æ˜¯é‡å¯
- **å¥åº·æ£€æŸ¥**: 30ç§’æ£€æŸ¥ä¸€æ¬¡ï¼Œå¤±è´¥3æ¬¡åé‡å¯

### èµ„æºç›‘æ§
```bash
# æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨
docker stats douyin-upload-auto

# æŸ¥çœ‹æ—¥å¿—å¤§å°
du -sh logs/
```

## ğŸ” å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ç«¯å£å®‰å…¨**: ç¡®ä¿5000ç«¯å£é˜²ç«å¢™è®¾ç½®æ­£ç¡®
2. **æ–‡ä»¶æƒé™**: å®šæœŸæ£€æŸ¥æŒ‚è½½ç›®å½•æƒé™
3. **æ—¥å¿—æ¸…ç†**: å®šæœŸæ¸…ç†logsç›®å½•é¿å…ç£ç›˜æ»¡
4. **é•œåƒæ›´æ–°**: å®šæœŸæ›´æ–°åŸºç¡€é•œåƒå’Œä¾èµ–

## ğŸ’¡ æœ€ä½³å®è·µ

1. **å®šæœŸå¤‡ä»½**: å¤‡ä»½cookieå’Œdatabaseç›®å½•
2. **ç›‘æ§æ—¥å¿—**: è®¾ç½®æ—¥å¿—è½®è½¬é¿å…ç£ç›˜å æ»¡
3. **å¥åº·æ£€æŸ¥**: ä½¿ç”¨å¤–éƒ¨ç›‘æ§å·¥å…·ç›‘æ§æœåŠ¡çŠ¶æ€
4. **ç‰ˆæœ¬ç®¡ç†**: ä¸ºé•œåƒæ‰“æ ‡ç­¾ç®¡ç†ä¸åŒç‰ˆæœ¬

## ğŸ‰ å®Œæˆï¼

ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨ `./start.sh start` ä¸€é”®å¯åŠ¨å®Œæ•´çš„æŠ–éŸ³ä¸Šä¼ æœåŠ¡ï¼

è®¿é—®åœ°å€ï¼šhttp://localhost:5000 